<app-loader-spiner></app-loader-spiner>
<div fxLayout="row" fxLayoutAlign="space-between start">
    <div class="w-100-p">
        <h2 *ngIf="getProjectId == 'add'" mat-dialog-title>Create New Project</h2>
        <h2 *ngIf="getProjectId != 'add'" mat-dialog-title>Update Project</h2>
        <button [mat-dialog-close]="false" class="close">
            <mat-icon>close</mat-icon>
        </button>

        <div class="emtimated-hours" [formGroup]="projectForm">
            <form [formGroup]="projectForm" fxLayout="column" (ngSubmit)="onSubmit()">
                <mat-dialog-content>
                <div class="primary-contact">
                    <div class="space-bottom" fxLayoutGap="10px" fxLayout.md="row" fxLayout.lt-md="column"
                        fxLayoutAlign="space-between start">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Project Name</mat-label>
                            <input matInput placeholder="Project Name" formControlName="projectName">
                            <mat-error *ngIf="projectForm.controls.projectName.errors?.required">Project Name is required
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Project Code</mat-label>
                            <input matInput placeholder="Project Code" formControlName="projectCode">
                            <mat-error *ngIf="projectForm.controls.projectCode.errors?.required">Project Code is required
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="space-bottom" fxLayoutGap="10px" fxLayout.md="row" fxLayout.lt-md="column"
                        fxLayoutAlign="space-between start">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Start Date</mat-label>
                            <input matInput [matDatepicker]="startDate" formControlName="startDate">
                            <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                            <mat-datepicker #startDate></mat-datepicker>
                            <mat-error *ngIf="projectForm.controls.startDate.errors?.required">Start Date is required
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>End Date</mat-label>
                            <input matInput [matDatepicker]="endDate" [min]="projectForm.controls.startDate.value"
                                formControlName="endDate">
                            <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                            <mat-datepicker #endDate></mat-datepicker>
                            <mat-error *ngIf="projectForm.controls.endDate.errors?.required">End Date is required
                            </mat-error>
                        </mat-form-field>

                    </div>
                    <div class="space-bottom" fxLayoutGap="10px" fxLayout.md="row" fxLayout.lt-md="column"
                        fxLayoutAlign="space-between start">
                        <mat-form-field appearance="outline">
                            <mat-label>Location Coordinates</mat-label>
                            <input matInput placeholder="Latitude, Longitude" formControlName="location">
                            <mat-error *ngIf="projectForm.controls.location.errors?.required">Location is required
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field appearance="outline" class="">
                            <mat-label>Project Type</mat-label>
                            <mat-select formControlName="projectType">
                                <mat-option *ngFor="let list of projectTypeArray" [value]="list.id">
                                    {{list.name}}
                                </mat-option>
                            </mat-select>
                            <mat-error *ngIf="projectForm.controls.projectType.errors?.required">Project Type is required
                            </mat-error>
                        </mat-form-field>
                    </div>

                </div>
                </mat-dialog-content>
                <mat-dialog-actions>
                    <button *ngIf="getProjectId == 'add'" fxLayoutGap="10px" color="accent" mat-raised-button>Save</button>
                    <button *ngIf="getProjectId != 'add'" fxLayoutGap="10px" color="accent" mat-raised-button>Update</button>
                </mat-dialog-actions>
            </form>
        </div>
    </div>

</div>