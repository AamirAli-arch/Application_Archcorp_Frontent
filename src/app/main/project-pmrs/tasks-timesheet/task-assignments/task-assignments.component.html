
<div fxLayout="row" fxLayoutAlign="space-between start" class="filter-container">
<div class="container" fxLayout="column">   
    <div class="content">
        <div  fxLayout="row wrap" fxLayoutGap="16px grid">
            <div  fxFlex="100%" fxFlex.xs="100%" fxFlex.sm="33%">
                  <div fxLayout="row" fxLayoutAlign="space-between center"  class="filter-container" [formGroup]="tasksTimesheetForm">
                    <div class="top-section" fxLayout="row" fxFlex.gt-sm="100" fxLayoutGap="10px" >              
                      <mat-form-field class="project" appearance="outline" fxFlex.gt-sm="100">
                          <mat-label>Project Name</mat-label>
                          <mat-select color="primary" formControlName="projectName" [(value)]="projectSelected">
                            <mat-option *ngFor="let project of projects" [value]="project.name">{{project.name}}</mat-option>
                          </mat-select>
                        </mat-form-field>

                        <!-- <app-project-dropdown class="resorce-filter" (projectId)="projectId($event)" fxFlex="grow">           
                        </app-project-dropdown> -->
            
                        <mat-form-field class="project" appearance="outline" fxFlex.gt-sm="100">
                            <mat-label>Stage</mat-label>
                            <mat-select color="primary" formControlName="taskType" [(value)]="taskTypeSelected">
                                <mat-option *ngFor="let type of taskTypes" [value]="type.name">{{type.name}}</mat-option>
                            </mat-select>
                        </mat-form-field>  
                        
                        
                        <mat-form-field fxFlex.gt-sm="100" floatLabel="never" appearance="outline">
                            <mat-label>Start Date</mat-label>
                            <input placeholder="Start Date" matInput [matDatepicker]="startDate" (click)="startDate.open()"
                                formControlName="startDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="startDate"></mat-datepicker-toggle>
                            <mat-datepicker #startDate></mat-datepicker>
                        </mat-form-field>
            
                        <mat-form-field fxFlex.gt-sm="100" floatLabel="never" appearance="outline">
                            <mat-label>End Date</mat-label>
                            <input placeholder="End Date" [min]="tasksTimesheetForm.value.startDate" matInput [matDatepicker]="endDate"
                                (click)="endDate.open()" formControlName="endDate" autocomplete="off">
                            <mat-datepicker-toggle matSuffix [for]="endDate"></mat-datepicker-toggle>
                            <mat-datepicker #endDate></mat-datepicker>
                        </mat-form-field>
                    </div>  
                </div>
                
            </div>
        </div>
        <ng-template #indicator>
            <div class="loading-shade">
                <mat-spinner></mat-spinner>
            </div>
        </ng-template>
    </div>
         <!--<div class="assignment-header" fxLayout="row wrap" fxLayoutGap="16px grid">
         <div fxFlex="100%"  fxFlex.sm="10%" >
           <mat-label class="general-label">TimeSheet</mat-label>
             <span matTooltipClass="icon-tooltip" matTooltipPosition="above" matTooltip="Here you can see all your tasks involvement and fill the timesheet." class="add-edit">             
            </span>
        </div>
        <div class="assignment-contents">        
        </div>
        </div>-->


        <div  fxLayout="row wrap" fxLayoutGap="16px grid">
        
        </div>


        <!-- <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
  
            <ng-container matColumnDef="sno">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by number"> S.NO</th>
              <td mat-cell *matCellDef="let element"> {{element.sno}} </td>
            </ng-container>
          
            
            <ng-container matColumnDef="projectName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by projectName"> Project </th>
              <td mat-cell *matCellDef="let element"> {{element.projectName}} </td>
            </ng-container>
          

            <ng-container matColumnDef="stage">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by stage"> Stage  </th>
                <td mat-cell *matCellDef="let element"> {{element.stage}}</td>
              </ng-container>
            
            <ng-container matColumnDef="task">
              <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by task"> Task  </th>
              <td mat-cell *matCellDef="let element"> {{element.task}}</td>
            </ng-container>

            <ng-container matColumnDef="type">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by type"> Type </th>
                <td mat-cell *matCellDef="let element"> {{element.type}}</td>
              </ng-container>
            
              <ng-container matColumnDef="assignedBy">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedBy"> Assgined By</th>
                <td mat-cell *matCellDef="let element"> {{element.assignedBy}}</td>
              </ng-container>


              <ng-container matColumnDef="assignedDate">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedDate"> Assgined Date</th>
                <td mat-cell *matCellDef="let element"> {{element.assignedDate}}</td>
              </ng-container>
            
              <ng-container matColumnDef="assignedHours">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedHours"> Assgined Hours</th>
                <td mat-cell *matCellDef="let element"> {{element.assignedHours}}</td>
              </ng-container>  

              <ng-container matColumnDef="workedHours">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by workedHours"> Worked Hours</th>
                <td mat-cell *matCellDef="let element"> {{element.workedHours}}</td>
              </ng-container>  

              <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by status">Status</th>
                <td mat-cell *matCellDef="let element"> {{element.status}}</td>
              </ng-container>  

              <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by status">Action</th>
                <td mat-cell *matCellDef="let element"> {{element.action}}</td>
              </ng-container>  
              
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>          
            
            </table> -->
            
            <!-- <mat-accordion>                
                <mat-expansion-panel (opened)="panelOpenState = true"
                                     (closed)="panelOpenState = false">
                  <mat-expansion-panel-header>
                    <mat-panel-title>
                      Current Task
                    </mat-panel-title>
                    <mat-panel-description>
                      
                    </mat-panel-description>
                  </mat-expansion-panel-header>

                  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
  
                    <ng-container matColumnDef="sno">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by number"> S.NO</th>
                      <td mat-cell *matCellDef="let element"> {{element.sno}} </td>
                    </ng-container>
                  
                    
                    <ng-container matColumnDef="projectName">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by projectName"> Project </th>
                      <td mat-cell *matCellDef="let element"> {{element.projectName}} </td>
                    </ng-container>
                  
        
                    <ng-container matColumnDef="stage">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by stage"> Stage  </th>
                        <td mat-cell *matCellDef="let element"> {{element.stage}}</td>
                      </ng-container>
                    
                    <ng-container matColumnDef="task">
                      <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by task"> Task  </th>
                      <td mat-cell *matCellDef="let element"> {{element.task}}</td>
                    </ng-container>
        
                    <ng-container matColumnDef="type">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by type"> Type </th>
                        <td mat-cell *matCellDef="let element"> {{element.type}}</td>
                      </ng-container>
                    
                      <ng-container matColumnDef="assignedBy">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedBy"> Assgined By</th>
                        <td mat-cell *matCellDef="let element"> {{element.assignedBy}}</td>
                      </ng-container>
        
        
                      <ng-container matColumnDef="assignedDate">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedDate"> Assgined Date</th>
                        <td mat-cell *matCellDef="let element"> {{element.assignedDate}}</td>
                      </ng-container>
                    
                      <ng-container matColumnDef="assignedHours">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedHours"> Assgined Hours</th>
                        <td mat-cell *matCellDef="let element"> {{element.assignedHours}}</td>
                      </ng-container>  
        
                      <ng-container matColumnDef="workedHours">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by workedHours"> Worked Hours</th>
                        <td mat-cell *matCellDef="let element"> {{element.workedHours}}</td>
                      </ng-container>  
        
                      <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by status">Status</th>
                        <td mat-cell *matCellDef="let element"> {{element.status}}</td>
                      </ng-container>  
        
                      <ng-container matColumnDef="action">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by action">Action</th>
                        <td mat-cell *matCellDef="let element"> {{element.action}}</td>
                      </ng-container>  
                      
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>          
                    
                    </table>
                </mat-expansion-panel>
              </mat-accordion> -->
            

              <cdk-accordion class="example-accordion" multi="true">
                <cdk-accordion-item [expanded]="true"
                  *ngFor="let item of items; let index = index;"
                  #accordionItem="cdkAccordionItem"
                  class="example-accordion-item"
                  role="button"                  
                  tabindex="0"
                  [attr.id]="'accordion-header-' + index"
                  [attr.aria-expanded]="accordionItem.expanded"
                  [attr.aria-controls]="'accordion-body-' + index">
                  <div class="example-accordion-item-header" (click)="accordionItem.toggle()">
                    {{ item }}
                    <span class="example-accordion-item-description">
                      Click to {{ accordionItem.expanded ? 'close' : 'open' }}
                    </span>
                  </div>
                  <div
                    class="example-accordion-item-body"
                    role="region"
                    [style.display]="accordionItem.expanded ? '' : 'none'"
                    [attr.id]="'accordion-body-' + index"
                    [attr.aria-labelledby]="'accordion-header-' + index">
                    

                    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort>
  
                        <ng-container matColumnDef="sno">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by number"> S.NO</th>
                          <td mat-cell *matCellDef="let element"> {{element.sno}} </td>
                        </ng-container>
                      
                        
                        <ng-container matColumnDef="projectName">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by projectName"> Project </th>
                          <td mat-cell *matCellDef="let element"> {{element.projectName}} </td>
                        </ng-container>
                      
            
                        <ng-container matColumnDef="stage">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by stage"> Stage  </th>
                            <td mat-cell *matCellDef="let element"> {{element.stage}}</td>
                          </ng-container>
                        
                        <ng-container matColumnDef="task">
                          <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by task"> Task  </th>
                          <td mat-cell *matCellDef="let element"> {{element.task}}</td>
                        </ng-container>
            
                        <ng-container matColumnDef="type">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by type"> Type </th>
                            <td mat-cell *matCellDef="let element"> {{element.type}}</td>
                          </ng-container>
                        
                          <ng-container matColumnDef="assignedBy">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedBy"> Assgined By</th>
                            <td mat-cell *matCellDef="let element"> {{element.assignedBy}}</td>
                          </ng-container>
            
            
                          <ng-container matColumnDef="assignedDate">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedDate"> Assgined Date</th>
                            <td mat-cell *matCellDef="let element"> {{element.assignedDate}}</td>
                          </ng-container>
                        
                          <ng-container matColumnDef="assignedHours">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by assignedHours"> Assgined Hours</th>
                            <td mat-cell *matCellDef="let element"> {{element.assignedHours}}</td>
                          </ng-container>  
            
                          <ng-container matColumnDef="workedHours">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by workedHours"> Worked Hours</th>
                            <td mat-cell *matCellDef="let element"> {{element.workedHours}}</td>
                          </ng-container>  
            
                          <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by status">Status</th>
                            <td mat-cell *matCellDef="let element"> {{element.status}}</td>
                          </ng-container>  
            
                          <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by status">Action</th>
                            <td mat-cell *matCellDef="let element"> {{element.action}}</td>
                          </ng-container>  
                          
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>          
                        
                        </table>
                  </div>
                </cdk-accordion-item>
              </cdk-accordion> 

</div>

